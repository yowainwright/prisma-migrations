---
import ThemeToggle from "../common/ThemeToggle.astro";
import { resolveUrl, resolveDocsUrl } from "../../utils/urlResolver";
import { SiGithub } from 'react-icons/si';

const navigation = [
  {
    title: "Home",
    href: resolveUrl(""),
  },
  {
    title: "Docs",
    href: resolveDocsUrl("introduction"),
  },
];

const pathname = new URL(Astro.request.url).pathname;
---

<header class="sticky top-0 z-30">
  <nav
    class="navbar bg-base-100/80 backdrop-blur-3xl justify-center items-center py-2 px-4 sm:px-6 md:px-20 border-b border-primary"
  >
    <div class="dropdown">
      <div tabindex="0" role="button" class="btn btn-ghost btn-square text-base px-3 py-3 h-12 lg:hidden">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          ><path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h8m-8 6h16"></path></svg
        >
      </div>
      <ul
        tabindex="0"
        class="menu menu-sm dropdown-content mt-3 z-[50] p-2 shadow-lg bg-base-100 rounded-box w-52 border border-base-content/10"
      >
        {
          navigation.map((item) => (
            <li>
              <a
                class={`hover:text-primary hover:bg-primary/10 transition flex ${pathname === item.href ? "text-primary bg-primary/10" : ""}`}
                href={item.href}
              >
                {item.title}
              </a>
            </li>
          ))
        }
      </ul>
    </div>
    <div class="navbar-start">
      <a href={resolveUrl("")} class="btn btn-ghost text-base px-3 py-3 h-12 border-0 shadow-none outline-none hover:bg-primary/10">
        <h1
          class="text-lg sm:text-xl md:text-2xl font-bold gradient-text"
        >
          Prisma Migrations
        </h1>
      </a>
    </div>

    <div class="navbar-center hidden lg:flex">
      <ul class="menu menu-horizontal text-base font-medium space-x-2">
        {
          navigation.map((item) => (
            <li>
              <a
                class={`hover:text-primary hover:bg-primary/10 transition flex ${pathname === item.href ? "text-primary bg-primary/10" : ""}`}
                href={item.href}
              >
                {item.title}
              </a>
            </li>
          ))
        }
      </ul>
    </div>

    <div class="navbar-end">
      <a
        class="btn btn-ghost btn-square text-base px-3 py-3 h-12 border-0 shadow-none outline-none hover:bg-primary/10"
        href="https://github.com/yowainwright/prisma-migrations"
        aria-label="github"
      >
        <SiGithub className="h-6 w-6" client:load />
      </a>
    </div>
  </nav>
</header>
